<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Loveü§ç</title>
<style>
  body { margin:0; overflow:hidden; background:black; touch-action:none; }
  canvas { display:block; position:absolute; top:0; left:0; }
</style>
</head>
<body>
<canvas id="canvas"></canvas>
<script>
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;
let w = canvas.width, h = canvas.height;

let angleX = 0, angleY = 0, hue = 0, t = 0;

// Stars
const stars = [];
for(let i=0;i<500;i++){
  stars.push({ x:Math.random()*w - w/2, y:Math.random()*h - h/2, z:Math.random()*800, size:Math.random()*1.5, twinkle:Math.random()*Math.PI*2 });
}

// Hearts text
const hearts = [];
for(let i=0;i<50;i++){
  hearts.push({ x:Math.random()*w, y:Math.random()*h, size:40+Math.random()*10, speed:0.3+Math.random()*0.3, drift:(Math.random()-0.5)*0.5, alpha:0.7+Math.random()*0.3 });
}

// Floating heart images
const heartImgs = [];
const heartImgSrcs = [
  "https://files.catbox.moe/o1hq4z.jpg",
  "https://files.catbox.moe/vzh47l.jpg",
  "https://files.catbox.moe/ns9w1l.jpg"
];
for(let src of heartImgSrcs){
  const img = new Image();
  img.src = src;
  heartImgs.push(img);
}

const floatingHearts = [];
for(let i=0;i<40;i++){
  floatingHearts.push({
    x: Math.random()*w,
    y: Math.random()*h,
    size: 120 + Math.random()*30,  // lebih besar
    speed: 0.2 + Math.random()*0.3,
    drift: (Math.random()-0.5)*0.3,
    alpha: 0.8 + Math.random()*0.2,
    img: heartImgs[Math.floor(Math.random()*heartImgs.length)]
  });
}

// 3D rotation
function rotate3D(x,y,z,ax,ay){
  let cosX=Math.cos(ax), sinX=Math.sin(ax);
  let y1=y*cosX - z*sinX;
  let z1=y*sinX + z*cosX;
  let cosY=Math.cos(ay), sinY=Math.sin(ay);
  let x2=x*cosY + z1*sinY;
  let z2=-x*sinY + z1*cosY;
  return [x2,y1,z2];
}

function drawBackground(){
  let grad = ctx.createRadialGradient(w/2,h/2,50,w/2,h/2,w/1.5);
  grad.addColorStop(0,"rgba(180,0,200,0.6)");
  grad.addColorStop(0.5,"rgba(20,0,50,0.7)");
  grad.addColorStop(1,"rgba(0,0,15,1)");
  ctx.fillStyle=grad;
  ctx.fillRect(0,0,w,h);

  ctx.save();
  ctx.translate(w/2,h/2);
  for(let s of stars){
    s.z -= 1; 
    if(s.z<1) s.z=800;
    let p=300/s.z;
    let px=s.x*p, py=s.y*p;
    let alpha=(Math.sin(Date.now()/1000 + s.twinkle)+1)/2*0.7+0.3;
    ctx.globalAlpha=alpha;
    ctx.fillStyle="white";
    ctx.fillRect(px,py,s.size,s.size);
  }
  ctx.restore();
  ctx.globalAlpha=1;
}

function drawHearts(){
  ctx.save();
  ctx.font="bold 48px Arial"; // diperbesar
  ctx.textAlign="center";
  for(let hrt of hearts){
    ctx.fillStyle=`rgba(255,100,200,${hrt.alpha})`;
    ctx.fillText("‚ù§", hrt.x, hrt.y);
    hrt.y -= hrt.speed;
    hrt.x += hrt.drift;
    if(hrt.y<-50){ hrt.y=h+50; hrt.x=Math.random()*w; }
  }
  ctx.restore();
}

function drawFloatingHearts(){
  for(let hrt of floatingHearts){
    ctx.globalAlpha = hrt.alpha;
    ctx.drawImage(hrt.img, hrt.x - hrt.size/2, hrt.y - hrt.size/2, hrt.size, hrt.size);
    hrt.y -= hrt.speed;
    hrt.x += hrt.drift;
    if(hrt.y < -hrt.size){ hrt.y = h + hrt.size; hrt.x = Math.random()*w; }
  }
  ctx.globalAlpha = 1;
}

function drawHeart3D(){
  ctx.save();
  ctx.translate(w/2,h/2);
  for(let t=0;t<Math.PI*2;t+=0.2){
    let x=16*Math.pow(Math.sin(t),3);
    let y=-(13*Math.cos(t)-5*Math.cos(2*t)-2*Math.cos(3*t)-Math.cos(4*t));
    let z=0;
    let scale=40; // diperbesar
    let [rx,ry,rz]=rotate3D(x*scale,y*scale,z,angleX,angleY);
    rz += 400;
    let perspective = 300/rz;
    let posX = rx*perspective;
    let posY = ry*perspective;
    ctx.globalAlpha=0.8;
    ctx.fillStyle=`hsl(${hue+t*90},100%,60%)`;
    ctx.font=`${40*perspective}px Arial Black`; // font lebih besar
    ctx.textAlign="center";
    ctx.textBaseline="middle";
    ctx.fillText("I‚ù§U",posX,posY);
  }
  ctx.restore();
  hue+=0.5;
}

let offsetX=0, offsetY=0;
function drawCenterText(){
  t+=0.03;
  let targetX = Math.sin(angleY)*12;
  let targetY = Math.sin(angleX)*6;
  offsetX += (targetX - offsetX)*0.05;
  offsetY += (targetY - offsetY)*0.05;
  ctx.save();
  ctx.translate(w/2 + offsetX, h/2 + offsetY);
  ctx.font="bold 72px Arial Black"; // diperbesar banget
  ctx.textAlign="center";
  ctx.textBaseline="middle";
  ctx.fillStyle="white";
  ctx.fillText("I Love You üíñ",0,0);
  ctx.restore();
}

function animate(){
  drawBackground();
  drawHearts();
  drawHeart3D();
  drawFloatingHearts();
  drawCenterText();
  angleY += 0.001;
  angleX += 0.0005;
  requestAnimationFrame(animate);
}
animate();

// Drag / Touch
let isDrag=false, lastX, lastY;
canvas.addEventListener("mousedown",e=>{ isDrag=true; lastX=e.clientX; lastY=e.clientY; });
canvas.addEventListener("mouseup",()=>isDrag=false);
canvas.addEventListener("mousemove",e=>{
  if(isDrag){
    angleY += (e.clientX-lastX)*0.004;
    angleX += (e.clientY-lastY)*0.004;
    lastX=e.clientX; lastY=e.clientY;
  }
});
canvas.addEventListener("touchstart",e=>{ isDrag=true; lastX=e.touches[0].clientX; lastY=e.touches[0].clientY; });
canvas.addEventListener("touchend",()=>isDrag=false);
canvas.addEventListener("touchmove",e=>{
  if(isDrag){
    angleY += (e.touches[0].clientX-lastX)*0.004;
    angleX += (e.touches[0].clientY-lastY)*0.004;
    lastX=e.touches[0].clientX; lastY=e.touches[0].clientY;
  }
});

window.addEventListener("resize",()=>{ canvas.width=window.innerWidth; canvas.height=window.innerHeight; w=canvas.width; h=canvas.height; });
</script>
</body>
</html>
